@page "/pg"
@using System.Collections.Generic
@inject NavigationManager NavigationManager

<div class="navbar">
    <a href="authentication/profile">Profile</a>
    <a href="/">Home</a>
    <a href="authentication/register">Register</a>
    <a href="authentication/login">Login</a>
    <a href="/about-us">About Us</a>
    <a href="/pg">Price Guide</a>
    <a href="/feedbacks">Contact Us</a>
    <a href="/vehicles">Vehicles</a>
    <a href="/customers">Customers</a>
    <a href="/staffs">Staffs</a>
    <a href="/transportbookings">Bookings</a>
    <a href="/payments">Payment</a>
</div>

<h3>Car Booking Price Guide</h3>
<h5>Select from a variety of car models:</h5>

@if (carModels != null && carModels.Any())
{
    <div class="row">
        @foreach (var car in carModels)
        {
            <div class="col-md-4">
                <div class="card mb-4 shadow-sm">
                    <img src="@car.ImageUrl" class="card-img-top" alt="@car.ModelName"> <!-- Image displayed here -->
                    <div class="card-body">
                        <h5 class="card-title">@car.ModelName</h5>
                        <p class="card-text">@car.Description</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <small class="text-muted">Price per day: @car.PricePerHour.ToString("C")</small>
                            <button class="btn btn-primary" @onclick="() => SelectCarModel(car)">Select</button> <!-- Selection Button -->
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
}
else
{
    <p>No car models available for booking at the moment.</p>
}


@code {
    private List<CarModel> carModels;

    protected override void OnInitialized()
    {
        carModels = new List<CarModel>
        {
            new CarModel { ModelName = "Model A6L", PricePerHour = 60, Description = "Luxury sedan with top performance", ImageUrl ="audi.jpg" },
            new CarModel { ModelName = "Model X", PricePerHour = 90, Description = "Spacious SUV with advanced features" },
            new CarModel { ModelName = "Model X", PricePerHour = 90, Description = "Spacious SUV with advanced features" },
            new CarModel { ModelName = "Model X", PricePerHour = 90, Description = "Spacious SUV with advanced features" },
            new CarModel { ModelName = "Model X", PricePerHour = 90, Description = "Spacious SUV with advanced features" },
            new CarModel { ModelName = "Model X", PricePerHour = 90, Description = "Spacious SUV with advanced features" },
            // Add more car models as needed
        };
    }

    private void SelectCarModel(CarModel selectedCar)
    {
        // Store the selected car model details
        // For instance, using a service or session state

        // Redirect to the payment page
        NavigationManager.NavigateTo("/services");
    }

    class CarModel
    {
        public string ModelName { get; set; }
        public decimal PricePerHour { get; set; }
        public string Description { get; set; }
        public string ImageUrl { get; set; }
    }
}
